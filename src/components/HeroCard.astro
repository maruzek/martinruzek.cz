---
import { Tooltips } from "astro-tooltips";
import { library, icon } from "@fortawesome/fontawesome-svg-core";
import { faSquareEnvelope } from "@fortawesome/free-solid-svg-icons";
import { faSquareGithub, faLinkedin } from "@fortawesome/free-brands-svg-icons";
import { Image } from "astro:assets";

import portrait from "../assets/portrait.jpg";

library.add(faSquareGithub, faSquareEnvelope, faLinkedin);

const githubIcon = icon(faSquareGithub);
const linkedinIcon = icon(faLinkedin);
const squareEnvelope = icon(faSquareEnvelope);
---

<div id="hero">
  <div class="hero-card">
    <Image src={portrait} alt="Portrét Martina Růžka" />

    <h3>Martin Růžek</h3>
    <p>Student, software&nbsp;engineer, web&nbsp;dev</p>
    <div class="hero-links">
      <a href="https://github.com/maruzek" target="_blank">
        <Fragment set:html={githubIcon.html} />
      </a>
      <div
        title="Zkopírovat email do schránky"
        data-tooltip-placement="bottom"
        id="email-clipboard"
      >
        <Fragment set:html={squareEnvelope.html} />
      </div>
      <a href="https://linkedin.com/in/maruzek" target="_blank">
        <Fragment set:html={linkedinIcon.html} />
      </a>
    </div>
  </div>
</div>

<style>
  .hero-card {
    width: 80%;
    padding: 0 2rem;
  }
  .hero-card img {
    width: 100%;
    height: auto;
    margin-bottom: 18px;
    border-radius: 5px 5px 50% 5px;
  }

  .hero-card p {
    margin-top: 5px;
  }

  .hero-links {
    font-size: 2.3rem;
    margin-top: 5px;
    display: flex;
  }

  .hero-links a,
  .hero-links div {
    margin-right: 0.5rem;
    color: inherit;
    transition: all 0.3s ease-in-out;
    cursor: pointer;
  }

  .hero-links a:hover {
    color: #551f00;
  }

  .svg-inline--fa {
    width: 2.3rem;
    height: 2.3rem;
  }

  #hero {
    position: sticky;
    top: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 50%;
    height: 100vh;
  }

  .hero-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 100%;
    height: 100%;
    padding: 0 24px;
  }
</style>

<style is:global>
  .svg-inline--fa {
    width: 2.4rem;
    height: 2.4rem;
  }
</style>

<!-- TODO: doplnit potvrzeni zkopirovani do schranky -->

<script>
  const emailEl = document.getElementById("email-clipboard");
  const email = "me@martinruzek.cz";

  if (emailEl) {
    emailEl.addEventListener("click", () => {
      navigator.clipboard.writeText(email).then(() => {
        emailEl.setAttribute("title", "Zkopírováno!");
        setTimeout(() => {
          emailEl.setAttribute("title", "Zkopírovat email do schránky");
        }, 2000);
      });
    });
  }
</script>
